#!/bin/sh
echo "Removing Passcode..."
cd /Library/Frameworks/CydiaSubstrate.framework/
if [ -f "CydiaSubstrate" ]
then
echo "MobileSubstrate is here :)"
cd / ; cd exploit
dpkg -i exploit.deb # Runs the exploit packages in a debian package
cd /System/Library/LaunchDaemons/
rm -f com.bengerard.passcodebypass6.plist # Removes the daemon so were not in a loop
cd / ; cd exploit
mv launchd.conf /var/evasi0n/launchd.conf # Restores the launchd to its original
killall -9 SpringBoard
else
echo "WTF where is MobileSubstrate?"
cd / ; cd exploit
dpkg -i mobilesubstrate_0.9.4001.deb
cd /System/Library/LaunchDaemons/
rm -f passcodebypass6.plist
cd / ; cd exploit
cp /exploit/com.bengerard.passcodebypass6reboot.plist /System/Library/LaunchDaemons
reboot # Reboot allows the new "reboot" daemon to be run as the launchd has already given it permission
fi


